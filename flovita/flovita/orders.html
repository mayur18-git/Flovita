<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Orders - Flovita</title>
    <link rel="stylesheet" href="../assets/css/style.css">
</head>
<body>
    <header>
        <!-- Top Header - Sticky -->
        <div class="flovita-header-top">
            <div class="flovita-top-container">
                <!-- Logo Section -->
                <div class="flovita-logo">
                    <div class="flovita-logo-icon">F</div>
                    <div class="flovita-brand">
                        <h1>Flovita <span style="font-size: 0.8em;">ğŸŒ¸</span></h1>
                        <span>Fresh blooms & gifts</span>
                    </div>
                </div>
                
                <!-- Search Bar -->
                <div class="flovita-search">
                    <div class="flovita-search-box">
                        <span class="flovita-search-icon">ğŸ”</span>
                        <input type="text" placeholder="Search for Products, Brands and More" aria-label="Search products">
                    </div>
                </div>
                
                <!-- Header Actions -->
                <div class="flovita-actions">
                    <a href="login.html" class="flovita-action-btn" aria-label="Login">
                        ğŸ‘¤ Login
                    </a>
                    <div class="flovita-cart-section">
                        <a href="cart.html" class="flovita-action-btn" aria-label="Shopping cart">
                            ğŸ›’ Cart
                            <span class="flovita-cart-badge">0</span>
                        </a>
                        <a href="checkout.html" class="flovita-action-btn flovita-checkout-btn" aria-label="Checkout">
                            ğŸ’³ Checkout
                        </a>
                    </div>
                    <a href="orders.html" class="flovita-action-btn" aria-label="Orders">
                        ğŸ“ Orders
                    </a>
                </div>
            </div>
        </div>
        
        <!-- Bottom Category Bar -->
        <div class="flovita-header-bottom">
            <nav class="flovita-categories" role="navigation" aria-label="Product categories">
                <a href="index.html" class="flovita-category" aria-label="Home">
                    <div class="flovita-category-icon">ğŸ </div>
                    <div class="flovita-category-text">Home</div>
                </a>
                <a href="men.html" class="flovita-category" aria-label="Men's Fashion">
                    <div class="flovita-category-icon">ğŸ‘”</div>
                    <div class="flovita-category-text">Men</div>
                </a>
                <a href="women.html" class="flovita-category" aria-label="Women's Fashion">
                    <div class="flovita-category-icon">ğŸ‘—</div>
                    <div class="flovita-category-text">Women</div>
                </a>
                <a href="kids.html" class="flovita-category" aria-label="Kids Fashion">
                    <div class="flovita-category-icon">ğŸ‘¶</div>
                    <div class="flovita-category-text">Kids</div>
                </a>
                <a href="accessories.html" class="flovita-category" aria-label="Accessories">
                    <div class="flovita-category-icon">ğŸ‘œ</div>
                    <div class="flovita-category-text">Accessories</div>
                </a>
                <a href="contact.html" class="flovita-category" aria-label="Contact Us">
                    <div class="flovita-category-icon">ğŸ“</div>
                    <div class="flovita-category-text">Contact</div>
                </a>
                <a href="about.html" class="flovita-category" aria-label="About Us">
                    <div class="flovita-category-icon">â„¹ï¸</div>
                    <div class="flovita-category-text">About</div>
                </a>
                <a href="register.html" class="flovita-category" aria-label="Register">
                    <div class="flovita-category-icon">ğŸ“</div>
                    <div class="flovita-category-text">Register</div>
                </a>
            </nav>
        </div>
    </header>
    
    <section class="orders-container">
        <h1>My Orders</h1>
        <div id="orders-list"></div>
    </section>

    <footer>
        <p>&copy; 2023 Flovita. All rights reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            displayOrders();
        });

        function displayOrders() {
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            const ordersList = document.getElementById('orders-list');
            
            if (orders.length === 0) {
                ordersList.innerHTML = '<p>No orders found.</p>';
                return;
            }

            let html = '';
            orders.forEach(order => {
                html += `
                    <div class="order-card">
                        <div class="order-header">
                            <h3>Order ID: ${order.orderId}</h3>
                            <p>Date: ${new Date(order.orderDate).toLocaleDateString()}</p>
                            <p class="order-total">Total: $${order.total}</p>
                        </div>
                        
                        <div class="order-details">
                            <div class="delivery-info">
                                <h4>Delivery Address</h4>
                                <p>${order.deliveryDetails.fullName}</p>
                                <p>${order.deliveryDetails.mobile}</p>
                                <p>${order.deliveryDetails.email}</p>
                                <p>${order.deliveryDetails.address1}</p>
                                ${order.deliveryDetails.address2 ? '<p>' + order.deliveryDetails.address2 + '</p>' : ''}
                                <p>${order.deliveryDetails.city}, ${order.deliveryDetails.state} - ${order.deliveryDetails.pincode}</p>
                            </div>
                            
                            <div class="payment-info">
                                <h4>Payment Method</h4>
                                <p>${order.paymentMethod.toUpperCase()}</p>
                                ${getPaymentDetailsHTML(order.paymentMethod, order.paymentDetails)}
                            </div>
                            
                            <div class="items-info">
                                <h4>Items Ordered</h4>
                                ${order.items.map(item => `
                                    <div class="order-item">
                                        <span>${item.name} x ${item.quantity}</span>
                                        <span>${item.price}</span>
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                    </div>
                `;
            });
            
            ordersList.innerHTML = html;
        }

        function getPaymentDetailsHTML(paymentMethod, paymentDetails) {
            if (paymentMethod === 'upi') {
                return `<p>UPI ID: ${paymentDetails.upiId}</p>`;
            } else if (paymentMethod === 'netbanking') {
                return `<p>Bank: ${paymentDetails.bank}</p>`;
            } else if (paymentMethod === 'card') {
                return `
                    <p>Card: **** **** **** ${paymentDetails.cardNumber.slice(-4)}</p>
                    <p>Name: ${paymentDetails.cardName}</p>
                `;
            }
            return '';
        }
    </script>
</body>
</html>